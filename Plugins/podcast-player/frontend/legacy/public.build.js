!function(e){var t={};function i(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([,function(e,t,i){"use strict";i.r(t);var s={};function a(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var n=function(){function e(t){var i,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=null,(a="resizeTimeout")in(i=this)?Object.defineProperty(i,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[a]=n,this.id=t,this.podcast=s[t].podcast,this.podcastMenu=this.podcast.find(".pod-info__menu"),this.menuToggle=this.podcast.find(".pod-header__toggle"),this.podcastDescription=this.podcast.find(".pod-header__desc"),this.descText=this.podcastDescription.find(".desc-text"),this.moreLink=this.podcastDescription.find(".pp-more-link"),this.fullDesc=this.descText.text(),this.showPodcastDescription(),this.events()}var t,i,n;return t=e,(i=[{key:"events",value:function(){var e=this;0<this.moreLink.length&&this.moreLink.click(function(e){e.preventDefault(),this.showDescription()}.bind(this)),this.menuToggle.click(function(){this.podcastMenu.slideToggle("fast")}.bind(this)),clearTimeout(this.resizeTimeout),jQuery(window).on("resize",function(){e.resizeTimeout=setTimeout(e.displayDescription.bind(e),300)})}},{key:"displayDescription",value:function(){s[this.id].isWide?this.podcastDescription.show():this.podcastDescription.hide()}},{key:"showPodcastDescription",value:function(){var e,t=this.fullDesc.split(" ");if(23>=t.length||!this.moreLink.length)return this.moreLink.hide(),void(s[this.id].isWide&&this.podcastDescription.show());e=t.splice(0,23).join(" "),this.descText.text(e),s[this.id].isWide&&this.podcastDescription.show()}},{key:"showDescription",value:function(){this.descText.text(this.fullDesc),this.moreLink.hide()}}])&&a(t.prototype,i),n&&a(t,n),e}();function o(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var r=function(){function e(t){var i,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=null,(a="resizeTimeout")in(i=this)?Object.defineProperty(i,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[a]=n,this.id=t,this.podcast=s[t].podcast,this.list=s[t].list,this.episode=s[t].episode,this.lTab=this.podcast.find(".pod-tabs__list"),this.eTab=this.podcast.find(".pod-tabs__episode"),this.prepareEpisode(),this.events()}var t,i,a;return t=e,(i=[{key:"events",value:function(){var e=this;this.lTab.click(this.activateList.bind(this)),this.eTab.click(this.activateEpisode.bind(this)),clearTimeout(this.resizeTimeout),jQuery(window).on("resize",function(){e.resizeTimeout=setTimeout(e.prepareEpisode.bind(e),300)})}},{key:"prepareEpisode",value:function(){var e=!s[this.id].isWide&&!this.lTab.hasClass("active"),t=!s[this.id].isWide&&this.lTab.hasClass("active");this.list.toggleClass("ppjs__offscreen",e),this.episode.toggleClass("ppjs__offscreen",t).show()}},{key:"activateList",value:function(){var e=this.list.find(".activeEpisode");this.lTab.addClass("active"),this.eTab.removeClass("active"),this.list.removeClass("ppjs__offscreen"),this.episode.addClass("ppjs__offscreen"),!1===s.isLrgScrn&&0<e.length&&jQuery("html, body").animate({scrollTop:e.offset().top-200},400)}},{key:"activateEpisode",value:function(){this.lTab.removeClass("active"),this.eTab.addClass("active"),this.list.addClass("ppjs__offscreen"),this.episode.removeClass("ppjs__offscreen")}}])&&o(t.prototype,i),a&&o(t,a),e}();function l(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"plBtn",void 0),d(this,"forBtn",void 0),d(this,"bckBtn",void 0),this.mediaObj=s[t].mediaObj,this.controls=jQuery(this.mediaObj.controls),this.layers=this.controls.prev(".ppjs__layers"),this.media=this.mediaObj.media,this.settings=s[t].settings,this.modControlMarkup(),this.modLayersMarkup(),this.plBtn=this.controls.find(".ppjs__playpause-button > button"),this.forBtn=this.controls.find(".ppjs__jump-forward-button > button"),this.bckBtn=this.controls.find(".ppjs__skip-backward-button > button"),this.events()}var t,i,a;return t=e,(i=[{key:"events",value:function(){this.media.addEventListener("loadedmetadata",this.condbtnPauseMedia.bind(this)),this.media.addEventListener("play",this.btnPlayMedia.bind(this)),this.media.addEventListener("playing",this.btnPlayMedia.bind(this)),this.media.addEventListener("pause",this.btnPauseMedia.bind(this)),this.plBtn.click(this.playPause.bind(this)),this.forBtn.click(this.forwardMedia.bind(this)),this.bckBtn.click(this.skipbackMedia.bind(this))}},{key:"playPause",value:function(){this.mediaObj.paused?(this.mediaObj.play(),this.plBtn.addClass("playing")):(this.mediaObj.pause(),this.plBtn.removeClass("playing"))}},{key:"forwardMedia",value:function(){var e,t;t=isNaN(this.media.duration)?15:this.media.duration,e=this.media.currentTime===1/0?0:this.media.currentTime,this.media.setCurrentTime(Math.min(e+15,t)),this.forBtn.blur()}},{key:"skipbackMedia",value:function(){var e;e=this.media.currentTime===1/0?0:this.media.currentTime,this.media.setCurrentTime(Math.max(e-15,0)),this.bckBtn.blur()}},{key:"btnPlayMedia",value:function(){this.plBtn.addClass("playing")}},{key:"btnPauseMedia",value:function(){this.plBtn.removeClass("playing")}},{key:"condbtnPauseMedia",value:function(){-1===this.media.rendererName.indexOf("flash")&&this.plBtn.removeClass("playing")}},{key:"modControlMarkup",value:function(){var e;this.mediaObj.isVideo?(this.controls.prepend(this.settings.ppPlayPauseBtn),this.controls.find(".ppjs__fullscreen-button > button").html(this.settings.ppMaxiScrnBtn+this.settings.ppMiniScrnBtn)):(this.controls.children().wrapAll('<div class="ppjs__audio-time-rail" />'),(e=jQuery("<div />",{class:"ppjs__audio-controls"})).html(this.settings.ppSkipBackwardBtn+this.settings.ppPlayPauseBtn+this.settings.ppJumpForwardBtn),this.controls.prepend(e))}},{key:"modLayersMarkup",value:function(){this.layers.find(".ppjs__overlay-play > .ppjs__overlay-button").html(this.settings.ppPlayCircle),this.layers.find(".ppjs__overlay > .ppjs__overlay-loading").html(this.settings.ppVidLoading)}}])&&l(t.prototype,i),a&&l(t,a),e}();function c(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var p=function(){function e(t){var i,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=void 0,(a="listItem")in(i=this)?Object.defineProperty(i,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[a]=n,this.id=t,this.podcast=s[t].podcast,this.list=s[t].list,this.episode=s[t].episode,this.mediaObj=s[t].mediaObj,this.instance=s[t].instance,this.sBar=s[t].episodeEl,this.lTab=this.podcast.find(".pod-tabs__list"),this.eTab=this.podcast.find(".pod-tabs__episode"),this.data=window.podcastPlayerData||{},this.events()}var t,i,a;return t=e,(i=[{key:"events",value:function(){var e=this;this.list.on("click",".episode-list__entry, .episode-list__search-entry",function(t){t.preventDefault(),e.listItem=jQuery(this),e.play()})}},{key:"play",value:function(){var e,t,i,a,n="pp-podcast-".concat(this.instance),o=this.listItem.attr("id");if(this.listItem.hasClass("activeEpisode")&&!this.mediaObj.paused)return this.listItem.removeClass("activeEpisode"),void this.mediaObj.pause();0<(e=this.list.find(".activeEpisode")).length&&e.removeClass("activeEpisode"),t=this.listItem.hasClass("episode-list__search-entry")?this.data.search[o]:this.data[n][o];var r="https://www.facebook.com/sharer.php?u="+(i=encodeURIComponent(t.link)),l="https://twitter.com/intent/tweet?url="+i+"&text="+(a=encodeURIComponent(t.title)),d="https://www.linkedin.com/shareArticle?mini=true&url="+i,h="mailto:?subject="+a+"&body=Link:"+i;this.listItem.addClass("activeEpisode"),this.episode.find(".episode-single__title").html(t.title),this.episode.find(".episode-single__description").html(t.description),this.episode.find(".episode-single__link").attr("href",t.link),this.episode.find(".ppsocial__facebook").attr("href",r),this.episode.find(".ppsocial__twitter").attr("href",l),this.episode.find(".ppsocial__linkedin").attr("href",d),this.episode.find(".ppsocial__email").attr("href",h),this.episode.find(".ppshare__download").attr("href",t.src),this.mediaObj.setSrc(t.src),this.sBar.recalculate(),s[this.id].isWide||(this.lTab.removeClass("active"),this.eTab.addClass("active"),this.list.addClass("ppjs__offscreen"),this.episode.removeClass("ppjs__offscreen")),this.mediaObj.play(),jQuery("html, body").animate({scrollTop:this.episode.offset().top-200},400)}}])&&c(t.prototype,i),a&&c(t,a),e}();function u(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.podcast=s[t].podcast,this.instance=s[t].instance,this.data=window.podcastPlayerData||{},this.sBar=s[t].scrollEl,this.loadbtn=this.podcast.find(".episode-list__load-more"),this.events()}var t,i,a;return t=e,(i=[{key:"events",value:function(){this.loadbtn.click(this.loadEpisodes.bind(this))}},{key:"loadEpisodes",value:function(){for(var e="pp-podcast-".concat(this.instance),t=this.data[e].load_info,i=Math.min(t.displayed+t.step,t.loaded),s=t.displayed+1,a=jQuery("<div />");s<=i;s++){var n="ppe-".concat(this.instance,"-").concat(s),o=this.data[e][n];if(void 0!==o){var r=o.title,l=o.date,d=o.link,h=jQuery("<a />",{href:d}).html(r),c=jQuery("<div />",{class:"pod-entry__date"}).text(l),p=jQuery("<div />",{class:"pod-entry__title"}).html(h),u=jQuery("<div />",{id:n,class:"episode-list__entry pod-entry","data-search-term":r.toLowerCase()}).append(p).append(c);a.append(u)}}a.insertBefore(this.loadbtn),t.displayed=i,this.sBar.recalculate(),this.fetchEpisodes()}},{key:"fetchEpisodes",value:function(){var e=this,t="pp-podcast-".concat(this.instance),i=this.data[t].load_info,s=this.data.ajax_info,a={action:"pp_fetch_episodes",security:s.security,instance:this.instance,loaded:i.loaded,maxItems:i.maxItems,feedUrl:i.src,step:i.step};i.loaded>=i.maxItems?i.displayed>=i.loaded&&this.loadbtn.slideUp("slow"):jQuery.ajax({url:s.ajaxurl,data:a,type:"POST",timeout:4e3,success:function(s){var a=jQuery.parseJSON(s);i.loaded=a.loaded,jQuery.extend(!0,e.data[t],a.episodes)},error:function(){e.loadbtn.hide()}})}}])&&u(t.prototype,i),a&&u(t,a),e}();function v(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"isSrchOpen",!1),m(this,"localTimeOut",null),m(this,"serverTimeOut",null),m(this,"hasLoading",!1),m(this,"prevSearchTerm",""),this.podcast=s[t].podcast,this.instance=s[t].instance,this.data=window.podcastPlayerData||{},this.list=s[t].list,this.episodes=s[t].episodes,this.sBar=s[t].scrollEl,this.settings=s[t].settings,this.loadbtn=this.podcast.find(".episode-list__load-more"),this.searchBox=this.list.find(".episode-list__search > input"),this.searchResults=this.list.find(".episode-search"),this.searchClose=this.list.find(".episode-list__clear-search"),this.events()}var t,i,a;return t=e,(i=[{key:"events",value:function(){this.searchBox.on("keyup",this.initSearch.bind(this)),this.searchClose.click(this.clearSearch.bind(this))}},{key:"initSearch",value:function(){var e="";!1===this.isSrchOpen&&(this.podcast.addClass("search-opened"),this.searchResults.show(),this.loadbtn.hide(),this.searchClose.show(),this.isSrchOpen=!0),clearTimeout(this.localTimeOut),this.localTimeOut=setTimeout(function(){(e=jQuery.trim(this.searchBox.val().toLowerCase()))&&this.filterEpisodes(e)}.bind(this),100),clearTimeout(this.serverTimeOut),this.serverTimeOut=setTimeout(function(){if(e){if(this.prevSearchTerm===e)return;this.liveSearch(e)}else this.clearSearch()}.bind(this),500)}},{key:"filterEpisodes",value:function(e){this.episodes.find(".episode-list__entry").each(function(){jQuery(this).filter("[data-search-term *= "+e+"]").length>0||e.length<1?jQuery(this).show():jQuery(this).hide()})}},{key:"liveSearch",value:function(e){if(!1===this.hasLoading){var t=jQuery("<div />",{class:"episode-search__loading"}).html(this.settings.ppVidLoading);this.searchResults.html(t),this.hasLoading=!0}this.fetchResults(e)}},{key:"fetchResults",value:function(e){var t=this,i="pp-podcast-".concat(this.instance),s=this.data[i].load_info,a=this.data.ajax_info,n={action:"pp_search_episodes",security:a.security,instance:"s",loaded:s.displayed,maxItems:s.maxItems,feedUrl:s.src,search:e};s.displayed>=s.maxItems?this.flushSearchResults():jQuery.ajax({url:a.ajaxurl,data:n,type:"POST",timeout:4e3,success:function(e){var i=jQuery.parseJSON(e);jQuery.isEmptyObject(i)?t.flushSearchResults():(t.data.search=i.episodes,t.showSearchResults(i.episodes),t.sBar.recalculate())},error:function(){t.flushSearchResults()}})}},{key:"clearSearch",value:function(){var e="pp-podcast-".concat(this.instance),t=this.data[e].load_info;this.searchBox.val(""),this.prevSearchTerm="",this.isSrchOpen=!1,this.podcast.removeClass("search-opened"),this.searchResults.hide(),this.searchClose.hide(),this.episodes.find(".episode-list__entry").show(),this.flushSearchResults(),t.displayed<t.loaded&&this.loadbtn.show()}},{key:"flushSearchResults",value:function(){this.searchResults.empty(),this.hasLoading=!1,this.sBar.recalculate()}},{key:"showSearchResults",value:function(e){for(var t=Object.getOwnPropertyNames(e),i=t.length-1,s=0,a=jQuery("<div />");s<=i;s++){var n=t[s],o=e[n],r=o.title,l=o.date,d=o.link,h=jQuery("<a />",{href:d}).html(r),c=jQuery("<div />",{class:"pod-entry__date"}).text(l),p=jQuery("<div />",{class:"pod-entry__title"}).html(h),u=jQuery("<div />",{id:n,class:"episode-list__search-entry pod-entry","data-search-term":r.toLowerCase()}).append(p).append(c);a.append(u),this.searchResults.html(a),this.hasLoading=!1}}}])&&v(t.prototype,i),a&&v(t,a),e}();function b(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"width",void 0),_(this,"resizeTimeout",null),this.id=t,this.playerStyleUpdate(),this.managerHeader(),this.manageTabs(),this.mediaElements(),this.entryEpisodes(),this.loadMore(),this.searchEpisodes(),this.events()}var t,i,a;return t=e,(i=[{key:"events",value:function(){var e=this;clearTimeout(this.resizeTimeout),jQuery(window).on("resize",function(){e.resizeTimeout=setTimeout(e.playerStyleUpdate.bind(e),100)})}},{key:"playerStyleUpdate",value:function(){var e=s[this.id].podcast;this.width=e.width(),window.matchMedia("(max-width: 640px)").matches?s.isLrgScrn=!1:s.isLrgScrn=!0,600>this.width?(e.removeClass("wide-player"),s[this.id].isWide=!1):(e.addClass("wide-player"),s[this.id].isWide=!0),300<this.width?e.removeClass("narrow-player"):e.addClass("narrow-player")}},{key:"managerHeader",value:function(){new n(this.id)}},{key:"manageTabs",value:function(){new r(this.id)}},{key:"mediaElements",value:function(){new h(this.id)}},{key:"entryEpisodes",value:function(){new p(this.id)}},{key:"loadMore",value:function(){new f(this.id)}},{key:"searchEpisodes",value:function(){new y(this.id)}}])&&b(t.prototype,i),a&&b(t,a),e}();!function(e){var t=e(".pp-podcast"),i=window.ppmejsSettings||{};t.each(function(){var t=e(this),a=t.attr("id"),n=new MediaElementPlayer(a+"-player",i),o=t.find(".pod-content__list"),r=t.find(".pod-content__episode"),l=o.find(".episode-list__wrapper"),d=r.find(".episode-single__wrapper"),h=new SimpleBar(l[0],{autoHide:!1}),c=new SimpleBar(d[0],{autoHide:!0});s[a]={podcast:t,mediaObj:n,settings:i,list:o,episode:r,episodes:l,single:d,scrollEl:h,episodeEl:c,instance:a.replace("pp-podcast-","")},new w(a)})}(jQuery)}]);